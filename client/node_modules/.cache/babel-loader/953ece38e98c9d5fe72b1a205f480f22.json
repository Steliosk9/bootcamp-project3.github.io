{"ast":null,"code":"var _jsxFileName = \"/Users/anhthule/Desktop/bootcamp-project3.github.io-thule/client/src/components/Login/Login-passport.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport './style.css';\n\nclass LoginForm extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log('handleSubmit');\n      axios.post('/user/login', {\n        username: this.state.username,\n        password: this.state.password\n      }).then(response => {\n        console.log('login response: ');\n        console.log(response);\n\n        if (response.status === 200) {\n          // update App.js state\n          this.props.updateUser({\n            loggedIn: true,\n            username: response.data.username\n          }); // update the state to redirect to home\n\n          this.setState({\n            redirectTo: '/'\n          });\n        }\n      }).catch(error => {\n        console.log('login error: ');\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      redirectTo: null\n    };\n  }\n\n  render() {\n    if (this.state.redirectTo) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: this.state.redirectTo\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"form\", {\n        className: \"login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-fields\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"\",\n        type: \"text\",\n        id: \"username\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"login-fields\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"\",\n        placeholder: \"password\",\n        type: \"password\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"login-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.handleSubmit,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"Login\"))));\n    }\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/anhthule/Desktop/bootcamp-project3.github.io-thule/client/src/components/Login/Login-passport.js"],"names":["React","Component","Redirect","axios","LoginForm","constructor","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","console","log","post","username","state","password","then","response","status","props","updateUser","loggedIn","data","redirectTo","catch","error","render","pathname"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport './style.css';\n\nclass LoginForm extends Component {\n    constructor() {\n        super()\n        this.state = {\n            username: '',\n            password: '',\n            redirectTo: null\n        }\n\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault()\n        console.log('handleSubmit')\n\n        axios\n            .post('/user/login', {\n                username: this.state.username,\n                password: this.state.password\n            })\n            .then(response => {\n                console.log('login response: ')\n                console.log(response)\n                if (response.status === 200) {\n                    // update App.js state\n                    this.props.updateUser({\n                        loggedIn: true,\n                        username: response.data.username\n                    })\n                    // update the state to redirect to home\n                    this.setState({\n                        redirectTo: '/'\n                    })\n                }\n            }).catch(error => {\n                console.log('login error: ')\n                console.log(error);\n\n            })\n    }\n\n    render() {\n        if (this.state.redirectTo) {\n            return <Redirect to={{ pathname: this.state.redirectTo }} />\n        } else {\n            return (\n                <div>\n                    <h4>Login</h4>\n                    <form className=\"login-form\">\n                        <div className=\"login-fields\">\n                            <input className=\"\"\n                                type=\"text\"\n                                id=\"username\"\n                                name=\"username\"\n                                placeholder=\"Username\"\n                                value={this.state.username}\n                                onChange={this.handleChange}\n                            />\n                        </div>\n                        <div className=\"login-fields\">\n                            <input className=\"\"\n                                placeholder=\"password\"\n                                type=\"password\"\n                                name=\"password\"\n                                value={this.state.password}\n                                onChange={this.handleChange}\n                            />\n                        </div>\n                        <div className=\"login-btn\">\n                            <button\n                                className=\"btn btn-primary\"\n                                onClick={this.handleSubmit}\n                                type=\"submit\"\n                            >Login</button>\n                        </div>\n                    </form>\n                </div>\n            )\n        }\n    }\n}\n\nexport default LoginForm\n"]},"metadata":{},"sourceType":"module"}