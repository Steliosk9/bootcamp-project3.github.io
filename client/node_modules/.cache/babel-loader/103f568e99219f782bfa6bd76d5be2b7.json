{"ast":null,"code":"var _jsxFileName = \"/Users/anhthule/Desktop/bootcamp-project3.github.io/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport axios from 'axios';\nimport API from './utilities/API';\nimport NavbarPass from './components/Navbar/Navbar-passport';\nimport Navbar from './components/Navbar/Navbar';\nimport CreateAccount from './components/CreateAccount/CreateAccount';\nimport Signup from './components/CreateAccount/Sigup-passport';\nimport LoginForm from './components/Login/Login-passport';\nimport Subscriptions from './components/MonthlySubscription/Subscriptions';\nimport './App.css';\nimport CreateSub from \"./components/CreateSub/CreateSub\";\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.getUser();\n      this.loadSubs();\n    };\n\n    this.updateUser = userObject => {\n      console.log(\"loggedIn \" + this.state.loggedIn);\n      this.setState(userObject);\n      console.log(\"loggedIn \" + this.state.loggedIn);\n    };\n\n    this.getUser = () => {\n      axios.get('/user/').then(response => {\n        console.log('Get user response: ');\n        console.log(response.data);\n\n        if (response.data.user) {\n          console.log('Get User: There is a user saved in the server session: ');\n          this.setState({\n            loggedIn: true,\n            username: response.data.user.username\n          });\n        } else {\n          console.log('Get user: no user');\n          this.setState({\n            loggedIn: false,\n            username: null\n          });\n        }\n      });\n    };\n\n    this.loadSubs = () => {\n      API.getSubscriptions().then(res => this.setState({\n        subscriptions: res.data,\n        name: \"\",\n        date: \"\",\n        amount: \"\",\n        subURL: \"\"\n      })).catch(err => console.log(err));\n    };\n\n    this.handleInputChange = event => {\n      const _event$target = event.target,\n            name = _event$target.name,\n            value = _event$target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubscriptionEntry = event => {\n      event.preventDefault();\n      console.log(\"handleSubscriptionEntry\");\n      API.saveSubscription({\n        name: this.state.name,\n        amount: this.state.amount,\n        subURL: this.state.subURL,\n        date: this.state.date\n      }).then(res => this.loadSubs()).catch(err => console.log(err));\n    };\n\n    this.state = {\n      username: null,\n      password: \"\",\n      loggedIn: true,\n      name: \"\",\n      date: \"\",\n      amount: \"\",\n      subURL: \"\",\n      subscriptions: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.state.loggedIn ? React.createElement(Navbar, {\n      updateUser: this.updateUser,\n      loggedIn: this.state.loggedIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }) : React.createElement(NavbarPass, {\n      updateUser: this.updateUser,\n      loggedIn: this.state.loggedIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), this.state.loggedIn && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Hello, \", this.state.username, \"!\"), !this.state.loggedIn ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/signup\",\n      render: () => React.createElement(Signup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(Route //catchall\n    , {\n      render: () => React.createElement(LoginForm, {\n        updateUser: this.updateUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Subscriptions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/create\",\n      component: CreateAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/subscriptions\",\n      render: props => React.createElement(Subscriptions, {\n        category: this.state.category,\n        subscriptions: this.state.subscriptions,\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/addnew\",\n      render: props => React.createElement(CreateSub, {\n        name: this.state.name,\n        date: this.state.date,\n        amount: this.state.amount,\n        subURl: this.state.subURL,\n        onChange: this.handleInputChange,\n        onClick: this.handleSubscriptionEntry,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/anhthule/Desktop/bootcamp-project3.github.io/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","axios","API","NavbarPass","Navbar","CreateAccount","Signup","LoginForm","Subscriptions","CreateSub","App","constructor","componentDidMount","getUser","loadSubs","updateUser","userObject","console","log","state","loggedIn","setState","get","then","response","data","user","username","getSubscriptions","res","subscriptions","name","date","amount","subURL","catch","err","handleInputChange","event","target","value","handleSubscriptionEntry","preventDefault","saveSubscription","password","render","props","category"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport axios from 'axios'\nimport API from './utilities/API'\nimport NavbarPass from './components/Navbar/Navbar-passport'\nimport Navbar from './components/Navbar/Navbar'\nimport CreateAccount from './components/CreateAccount/CreateAccount'\nimport Signup from './components/CreateAccount/Sigup-passport';\nimport LoginForm from './components/Login/Login-passport'\nimport Subscriptions from './components/MonthlySubscription/Subscriptions'\nimport './App.css';\nimport CreateSub from \"./components/CreateSub/CreateSub\";\n\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      username: null,\n      password: \"\",\n      loggedIn: true,\n      name: \"\",\n      date: \"\",\n      amount: \"\",\n      subURL: \"\",\n      subscriptions: []\n    }\n  }\n\n\n  componentDidMount = () => {\n    this.getUser();\n    this.loadSubs();\n  }\n\n  updateUser = (userObject) => {\n    console.log(\"loggedIn \" + this.state.loggedIn)\n    this.setState(userObject)\n    console.log(\"loggedIn \" + this.state.loggedIn)\n  }\n\n  getUser = () => {\n    axios.get('/user/').then(response => {\n      console.log('Get user response: ')\n      console.log(response.data)\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ')\n\n        this.setState({\n          loggedIn: true,\n          username: response.data.user.username\n        })\n      } else {\n        console.log('Get user: no user');\n        this.setState({\n          loggedIn: false,\n          username: null\n        })\n      }\n    })\n  }\n\n  loadSubs = () => {\n    API.getSubscriptions()\n    .then(res =>\n      this.setState({ subscriptions: res.data, name: \"\", date: \"\", amount: \"\", subURL: \"\" })\n    )\n    .catch(err => console.log(err));\n  }\n\n  handleInputChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value })\n  }\n\n  handleSubscriptionEntry = (event) => {\n    event.preventDefault();\n    console.log(\"handleSubscriptionEntry\")\n    API.saveSubscription({\n      name: this.state.name,\n      amount: this.state.amount,\n      subURL: this.state.subURL,\n      date: this.state.date\n    })\n      .then(res => this.loadSubs())\n      .catch(err => console.log(err));\n  }\n\n  render() {\n    return (\n\n      <div className=\"container\">\n\n        <Router>\n          {this.state.loggedIn ?\n            <Navbar updateUser={this.updateUser} loggedIn={this.state.loggedIn} />\n            :\n            <NavbarPass updateUser={this.updateUser} loggedIn={this.state.loggedIn} />}\n\n          {this.state.loggedIn &&\n            <p>Hello, {this.state.username}!</p>\n          }\n\n          {!this.state.loggedIn ?\n            <div>\n\n              <Switch >\n\n                <Route\n                  path=\"/signup\"\n                  render={() =>\n                    <Signup />}\n                />\n                <Route //catchall\n                  render={() =>\n                    <LoginForm\n                      updateUser={this.updateUser}\n                    />}\n                />\n              </Switch>\n\n            </div> :\n            <div>\n\n              <Switch >\n                <Route exact path=\"/\" component={Subscriptions} />\n                <Route exact path=\"/create\" component={CreateAccount} />\n                <Route exact path=\"/subscriptions\" render={(props) =>\n                  <Subscriptions\n                    category={this.state.category}\n                    subscriptions={this.state.subscriptions}\n                    onChange={this.handleInputChange}\n                  />} />\n                <Route exact path=\"/addnew\" render={(props) =>\n                  <CreateSub\n                    name={this.state.name}\n                    date={this.state.date}\n                    amount={this.state.amount}\n                    subURl={this.state.subURL}\n                    onChange={this.handleInputChange}\n                    onClick={this.handleSubscriptionEntry}\n                  />} />\n              </Switch>\n\n            </div>}\n        </Router>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}