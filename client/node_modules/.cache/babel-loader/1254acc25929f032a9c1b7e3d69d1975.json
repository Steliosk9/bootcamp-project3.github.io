{"ast":null,"code":"var _jsxFileName = \"/Users/anhthule/Desktop/bootcamp-project3.github.io/client/src/App.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport axios from 'axios';\nimport API from './utilities/API';\nimport NavbarPass from './components/Navbar/Navbar-passport';\nimport Navbar from './components/Navbar/Navbar';\nimport CreateAccount from './components/CreateAccount/CreateAccount';\nimport Signup from './components/CreateAccount/Sigup-passport';\nimport LoginForm from './components/Login/Login-passport';\nimport Subscriptions from './components/MonthlySubscription/Subscriptions';\nimport './App.css';\nimport CreateSub from \"./components/CreateSub/CreateSub\";\nimport Particles from 'react-particles-js';\nconst particleOpt = {\n  particles: {\n    number: {\n      value: 750,\n      density: {\n        enable: true,\n        value_area: 800\n      }\n    }\n  }\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.getUser();\n      this.loadSubs();\n    };\n\n    this.updateUser = userObject => {\n      console.log(\"loggedIn \" + this.state.loggedIn);\n      this.setState(userObject);\n      console.log(\"loggedIn \" + this.state.loggedIn);\n    };\n\n    this.getUser = () => {\n      axios.get('/user/').then(response => {\n        console.log('Get user response: ');\n        console.log(response.data);\n\n        if (response.data.user) {\n          console.log('Get User: There is a user saved in the server session: ');\n          this.setState({\n            loggedIn: true,\n            username: response.data.user.username\n          });\n        } else {\n          console.log('Get user: no user');\n          this.setState({\n            loggedIn: false,\n            username: null\n          });\n        }\n      });\n    };\n\n    this.loadSubs = () => {\n      API.getSubscriptions().then(res => this.setState({\n        subscriptions: res.data,\n        name: \"\",\n        date: \"\",\n        amount: \"\",\n        subURL: \"\"\n      })).catch(err => console.log(err));\n    };\n\n    this.state = {\n      username: null,\n      password: \"\",\n      loggedIn: false,\n      subscriptions: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Subscription Prescription\")), this.state.loggedIn ? React.createElement(Navbar, {\n      updateUser: this.updateUser,\n      loggedIn: this.state.loggedIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }) : React.createElement(NavbarPass, {\n      updateUser: this.updateUser,\n      loggedIn: this.state.loggedIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), this.state.loggedIn && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Hello, \", this.state.username, \"!\"), !this.state.loggedIn ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/signup\",\n      render: () => React.createElement(Signup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Route //catchall\n    , {\n      render: () => React.createElement(LoginForm, {\n        updateUser: this.updateUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Subscriptions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/create\",\n      component: CreateAccount,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/subscriptions\",\n      render: props => React.createElement(Subscriptions, {\n        subscriptions: this.state.subscriptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/addnew\",\n      render: props => React.createElement(CreateSub, {\n        username: this.state.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), React.createElement(Particles, {\n      params: particleOpt,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/anhthule/Desktop/bootcamp-project3.github.io/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","axios","API","NavbarPass","Navbar","CreateAccount","Signup","LoginForm","Subscriptions","CreateSub","Particles","particleOpt","particles","number","value","density","enable","value_area","App","constructor","componentDidMount","getUser","loadSubs","updateUser","userObject","console","log","state","loggedIn","setState","get","then","response","data","user","username","getSubscriptions","res","subscriptions","name","date","amount","subURL","catch","err","password","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport axios from 'axios'\nimport API from './utilities/API'\nimport NavbarPass from './components/Navbar/Navbar-passport'\nimport Navbar from './components/Navbar/Navbar'\nimport CreateAccount from './components/CreateAccount/CreateAccount'\nimport Signup from './components/CreateAccount/Sigup-passport';\nimport LoginForm from './components/Login/Login-passport'\nimport Subscriptions from './components/MonthlySubscription/Subscriptions'\nimport './App.css';\nimport CreateSub from \"./components/CreateSub/CreateSub\";\nimport Particles from 'react-particles-js';\n\n\nconst particleOpt ={\n  particles: {\n  number: {\n    value: 750,\n    density: {\n      enable: true,\n      value_area: 800,\n    }\n  }\n}\n}\nclass App extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      username: null,\n      password: \"\",\n      loggedIn: false,\n      subscriptions: []\n    }\n  }\n\n\n  componentDidMount = () => {\n    this.getUser();\n    this.loadSubs();\n  }\n\n  updateUser = (userObject) => {\n    console.log(\"loggedIn \" + this.state.loggedIn)\n    this.setState(userObject)\n    console.log(\"loggedIn \" + this.state.loggedIn)\n  }\n\n  getUser = () => {\n    axios.get('/user/').then(response => {\n      console.log('Get user response: ')\n      console.log(response.data)\n      if (response.data.user) {\n        console.log('Get User: There is a user saved in the server session: ')\n\n        this.setState({\n          loggedIn: true,\n          username: response.data.user.username\n        })\n      } else {\n        console.log('Get user: no user');\n        this.setState({\n          loggedIn: false,\n          username: null\n        })\n      }\n    })\n  }\n\n  loadSubs = () => {\n    API.getSubscriptions()\n    .then(res =>\n      this.setState({ subscriptions: res.data, name: \"\", date: \"\", amount: \"\", subURL: \"\" })\n    )\n    .catch(err => console.log(err));\n  }\n\n  render() {\n    return (\n\n      <div className=\"container\">\n\n        <Router>\n\n          <div className=\"jumbotron\">\n            <h1>Subscription Prescription</h1>\n          </div>\n          {this.state.loggedIn ?\n            <Navbar updateUser={this.updateUser} loggedIn={this.state.loggedIn} />\n            :\n            <NavbarPass updateUser={this.updateUser} loggedIn={this.state.loggedIn} />}\n\n          {this.state.loggedIn &&\n            <p>Hello, {this.state.username}!</p>\n          }\n\n          {!this.state.loggedIn ?\n            <div>\n\n              <Switch >\n\n                <Route\n                  path=\"/signup\"\n                  render={() =>\n                    <Signup />}\n                />\n                <Route //catchall\n                  render={() =>\n                    <LoginForm\n                      updateUser={this.updateUser}\n                    />}\n                />\n              </Switch>\n\n            </div> :\n            <div>\n\n              <Switch >\n                <Route exact path=\"/\" component={Subscriptions} />\n                <Route exact path=\"/create\" component={CreateAccount} />\n                <Route exact path=\"/subscriptions\" render={(props) =>\n                  <Subscriptions\n                    subscriptions={this.state.subscriptions}\n                  />} />\n                <Route exact path=\"/addnew\" render={(props) =>\n                  <CreateSub\n                    username={this.state.username}\n                  />} />\n              </Switch>\n              <Particles \n              params={particleOpt}/>\n            </div>}\n        </Router>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}